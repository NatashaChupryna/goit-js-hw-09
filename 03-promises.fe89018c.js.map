{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,SAmBpC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACT,OAAIH,EAEKH,QAAQC,QAAQM,GAGhBP,QAAQE,OAAOM,E,OAQ9B,SAASD,IACPE,EAAAhB,GAASiB,OAAOC,QAAQ,yBAAiCC,OAANb,MAAM,M,CAG3D,SAASS,EAAcK,GACrBJ,EAAAhB,GAASiB,OAAOI,QAAQ,wBAA8BF,OAANb,MAAM,M,CAzCzCJ,SAASC,cAAc,UAE/BmB,iBAAiB,UAExB,SAAsBC,GACpBA,EAAMC,iBAON,IALA,IAAMC,EAAW,CACfnB,MAAOoB,OAAOH,EAAMI,cAAcrB,MAAMsB,OACxCC,KAAMH,OAAOH,EAAMI,cAAcE,KAAKD,OACtCE,OAAQJ,OAAOH,EAAMI,cAAcG,OAAOF,QAEnCG,EAAI,EAAGA,EAAIN,EAASK,OAAQC,GAAK,EACxCN,EAASnB,OAASmB,EAASI,KAC3BzB,EAAc2B,EAAGN,EAASnB,OAAO0B,KAAKlB,GAAgBmB,MAAMlB,E,IAoBhEX,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst button = document.querySelector('button');\n\nbutton.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const userData = {\n    delay: Number(event.currentTarget.delay.value),\n    step: Number(event.currentTarget.step.value),\n    amount: Number(event.currentTarget.amount.value),\n  };\n  for (let i = 0; i < userData.amount; i += 1) {\n    userData.delay += userData.step;\n    createPromise(i, userData.delay).then(promiseResolve).catch(promiseReject);\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        return Promise.resolve(promiseResolve);\n      } else {\n        // Reject\n        return Promise.reject(promiseReject);\n      }\n    });\n  });\n}\n\ncreatePromise(5, 1000)\n\nfunction promiseResolve() {\n  Notiflix.Notify.success(`✅Fulfilled promise in ${delay}ms`);\n}\n\nfunction promiseReject(error) {\n  Notiflix.Notify.failure(`❌Rejected promise in ${delay}ms`);\n}\n"],"names":["$iU1Pc","parcelRequire","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$ce04d3a99e08e73b$var$promiseResolve","$ce04d3a99e08e73b$var$promiseReject","$parcel$interopDefault","Notify","success","concat","error","failure","addEventListener","event","preventDefault","userData","Number","currentTarget","value","step","amount","i","then","catch"],"version":3,"file":"03-promises.fe89018c.js.map"}