{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,SAmBpC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,IACLH,EAEKH,QAAQC,QAAQM,GAGhBP,QAAQE,OAAOM,IAExB,G,CAMN,SAASD,IACPE,EAAAhB,GAASiB,OAAOC,QAAQ,yBAAuBZ,U,CAGjD,SAASS,EAAcI,GACrBH,EAAAhB,GAASiB,OAAOG,QAAQ,wBAAsBd,U,CAzCjCJ,SAASC,cAAc,UAE/BkB,iBAAiB,UAExB,SAAsBC,GACpBA,EAAMC,iBAEN,MAAMC,EAAW,CACflB,MAAOmB,OAAOH,EAAMI,cAAcpB,MAAMqB,OACxCC,KAAMH,OAAOH,EAAMI,cAAcE,KAAKD,OACtCE,OAAQJ,OAAOH,EAAMI,cAAcG,OAAOF,QAE5C,IAAK,IAAIG,EAAI,EAAGA,EAAIN,EAASK,OAAQC,GAAK,EACxCN,EAASlB,OAASkB,EAASI,KAC3BxB,EAAc0B,EAAGN,EAASlB,OAAOyB,KAAKjB,GAAgBkB,MAAMjB,E,IAoBhEX","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst button = document.querySelector('button');\n\nbutton.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const userData = {\n    delay: Number(event.currentTarget.delay.value),\n    step: Number(event.currentTarget.step.value),\n    amount: Number(event.currentTarget.amount.value),\n  };\n  for (let i = 0; i < userData.amount; i += 1) {\n    userData.delay += userData.step;\n    createPromise(i, userData.delay).then(promiseResolve).catch(promiseReject);\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        return Promise.resolve(promiseResolve);\n      } else {\n        // Reject\n        return Promise.reject(promiseReject);\n      }\n    });\n  });\n}\n\ncreatePromise(5, 1000)\n\nfunction promiseResolve() {\n  Notiflix.Notify.success(`✅Fulfilled promise in ${delay}ms`);\n}\n\nfunction promiseReject(error) {\n  Notiflix.Notify.failure(`❌Rejected promise in ${delay}ms`);\n}\n"],"names":["$eWCmQ","parcelRequire","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$promiseResolve","$47d4ff9957288465$var$promiseReject","$parcel$interopDefault","Notify","success","error","failure","addEventListener","event","preventDefault","userData","Number","currentTarget","value","step","amount","i","then","catch"],"version":3,"file":"03-promises.40845204.js.map"}